---
title: src/player/ghost_effect/ghost_effect.tscn
---
:toc:

== src / player / ghost_effect / ghost_effect.tscn

=== Diagram
[plantuml]
....
class R as "GhostEffect" <<(N,#87CEFA) Node2D>> {
  - ALIVE_TIME
  * rest_time
---
  + spawn()
  + _process()
}
class N1 as "Sprite2D" <<(S,#87CEFA) Sprite2D>> {
}
R --o N1
!define _(a,b) a <-[#blue,thickness=2]- b
left to right direction

....


[.scene-assets]
=== Assets
[.asset-image]
[link=/assets/assets/images/player/Player_run.png]
image::/assets/raw/assets/images/player/Player_run.png[200, 100] 



=== Overridden virtual functions
==== _process
```gdscript
func _process(delta: float) -> void:
	rest_time -= delta
	modulate.a -= delta / ALIVE_TIME
	if rest_time < 0: queue_free()
```


=== Instantiators
CAUTION: No other scene instantiate this scene.

=== Scene Tree
[.scene-tree]
* [.node-name.type-2d]#GhostEffect# [.node-type.type-2d]#Node2D#
** [.node-name.type-2d]#Sprite2D# [.node-type.type-2d]#Sprite2D#


=== Signal Connections
NOTE: No signal connections.



=== Properties
[.node-property.node-2d]
.#Root# properties
[cols="1,3" options="header"]
|===
|Name |Value
|*scale* a|`Vector2(6, 6)`
|*script* a|link:/scripts/src/player/ghost_effect/ghost_effect.gd[res://src/player/ghost_effect/ghost_effect.gd]
|===
[.node-property.node-2d]
.#$Sprite2D# properties
[cols="1,3" options="header"]
|===
|Name |Value
|*unique_name_in_owner* a|`true`
|*modulate* a|`Color(1, 1, 1, 0.392157)`
|*material* a|`SubResource("ShaderMaterial_7eytl")`
|*texture* a|[link=/assets/assets/images/player/Player_run.png]
[.asset-image]
.res://assets/images/player/Player_run.png
image::/assets/raw/assets/images/player/Player_run.png[]

|*offset* a|`Vector2(0, -12)`
|*hframes* a|`7`
|===


=== link:/scripts/src/player/ghost_effect/ghost_effect.gd[ghost_effect.gd]

```gdscript
extends Node2D

const ALIVE_TIME = 0.5
var rest_time := ALIVE_TIME


func spawn(player: Player) -> void:
	position = player.position
	var sprite = player.current_sprite_state().duplicate()
	%Sprite2D.texture = sprite.texture
	%Sprite2D.hframes = sprite.hframes
	%Sprite2D.frame  = sprite.frame
	%Sprite2D.flip_h = sprite.flip_h
	%Sprite2D.flip_v = sprite.flip_v
	player.get_parent().add_child(self)


func _process(delta: float) -> void:
	rest_time -= delta
	modulate.a -= delta / ALIVE_TIME
	if rest_time < 0: queue_free()

```


