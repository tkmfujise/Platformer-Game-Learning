---
title: src/stages/gimmicks/falling_ice_block/falling_ice_block.tscn
---
:toc:

== src / stages / gimmicks / falling_ice_block / falling_ice_block.tscn

=== Diagram
[plantuml]
....
class R as "FallingIceBlock" <<(R,#87CEFA) RigidBody2D>> {
---
  + _ready()
  + fall()
  + _on_detection_area_2d_body_entered()
}
class N1 as "Sprite2D" <<(S,#87CEFA) Sprite2D>> {
}
class N2 as "CollisionShape2D" <<(C,#87CEFA) CollisionShape2D>> {
}
class N3 as "FailureCollision" <<(A,#87CEFA) Area2D>> {
}
class N4 as "CollisionShape2D" <<(C,#87CEFA) CollisionShape2D>> {
}
class N5 as "DetectionArea2D" <<(A,#87CEFA) Area2D>> {
}
class N6 as "CollisionShape2D" <<(C,#87CEFA) CollisionShape2D>> {
}
class N7 as "AnimationPlayer" <<(A,#FFFF00) AnimationPlayer>> {
}
R --o N1
R --o N2
R --o N3
R --o N5
R --o N7
N3 --o N4
N5 --o N6
!define _(a,b) a <-[#blue,thickness=2]- b
left to right direction
_(R::_on_detection_area_2d_body_entered, N5::body_entered)
....


=== Assets
[.scene-assets]
.res://assets/images/stages/gimmicks/FallingIceBlock.png
[link=/assets/assets/images/stages/gimmicks/FallingIceBlock.png] 
image::/assets/raw/assets/images/stages/gimmicks/FallingIceBlock.png[200, 100] 



=== Overridden virtual functions
==== _ready
```gdscript
func _ready() -> void:
	freeze = true
```


=== Instantiators
* link:/scenes/src/chapters/0/stages/0/stage_0.tscn[res://src/chapters/0/stages/0/stage_0.tscn]


=== Scene Tree
[.scene-tree]
* [.node-name.type-2d]#FallingIceBlock# [.node-type.type-2d]#RigidBody2D#
** [.node-name.type-2d]#Sprite2D# [.node-type.type-2d]#Sprite2D#
** [.node-name.type-2d]#CollisionShape2D# [.node-type.type-2d]#CollisionShape2D#
** [.node-name.type-2d]#FailureCollision# [.node-type.type-2d]#Area2D#
*** [.node-name.type-2d]#CollisionShape2D# [.node-type.type-2d]#CollisionShape2D#
** [.node-name.type-2d]#DetectionArea2D# [.node-type.type-2d]#Area2D#
*** [.node-name.type-2d]#CollisionShape2D# [.node-type.type-2d]#CollisionShape2D#
** [.node-name.type-other]#AnimationPlayer# [.node-type.type-other]#AnimationPlayer#


=== Signal Connections
[.signal-connection]
.$DetectionArea2D:[#_body_entered_#]=>$.
```gdscript
func _on_detection_area_2d_body_entered(body: Node2D) -> void:
	fall.call_deferred()
```




=== Properties
[.node-property.node-2d]
.#Root# properties
[cols="1,3" options="header"]
|===
|Name |Value
|*script* |`ExtResource("2_snubb")`
|===
[.node-property.node-2d]
.#$Sprite2D# properties
[cols="1,3" options="header"]
|===
|Name |Value
|*scale* |`Vector2(8, 8)`
|*texture* |`ExtResource("1_snubb")`
|===
[.node-property.node-2d]
.#$CollisionShape2D# properties
[cols="1,3" options="header"]
|===
|Name |Value
|*position* |`Vector2(-1.5, 2)`
|*shape* |`SubResource("RectangleShape2D_snubb")`
|===
[.node-property.node-2d]
.#$FailureCollision# properties
[cols="1,3" options="header"]
|===
|Name |Value
|*collision_layer* |`8`
|*collision_mask* |`8`
|===
[.node-property.node-2d]
.#$FailureCollision/CollisionShape2D# properties
[cols="1,3" options="header"]
|===
|Name |Value
|*position* |`Vector2(4, 78)`
|*shape* |`SubResource("RectangleShape2D_snubb")`
|===
[.node-property.node-2d]
.#$DetectionArea2D# properties
[cols="1,3" options="header"]
|===
|Name |Value
|*collision_mask* |`2`
|===
[.node-property.node-2d]
.#$DetectionArea2D/CollisionShape2D# properties
[cols="1,3" options="header"]
|===
|Name |Value
|*position* |`Vector2(0, 316.5)`
|*shape* |`SubResource("RectangleShape2D_51pa1")`
|*debug_color* |`Color(0.89528626, 0.7040168, 0.559312, 0.41960785)`
|===


=== link:/scripts/src/stages/gimmicks/falling_ice_block/falling_ice_block.gd[falling_ice_block.gd]

```gdscript
extends RigidBody2D


func _ready() -> void:
	freeze = true


func fall() -> void:
	freeze = false


func _on_detection_area_2d_body_entered(body: Node2D) -> void:
	fall.call_deferred()

```


