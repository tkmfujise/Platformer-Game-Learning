---
title: res://src/chapters/0/stages/0/stage_0.gd
---
:toc:

== src / chapters / 0 / stages / 0 / stage_0.gd

=== Attached Scenes
* link:/scenes/src/chapters/0/stages/0/stage_0.tscn[res://src/chapters/0/stages/0/stage_0.tscn]



=== Code
```gdscript
extends Control


func restart() -> void:
	get_tree().reload_current_scene()


func _on_player_failed() -> void:
	await get_tree().create_timer(2).timeout
	%RestartCurtain.play()


func _on_restart_curtain_animation_finished() -> void:
	restart()


func _on_stage_0_event(event_name: String) -> void:
	var key = "event_%s" % event_name
	if %AnimationPlayer.has_animation(key):
		%AnimationPlayer.play(key)

```
