---
title: res://src/stages/0/gimmicks/falling_ice_block/falling_ice_block.gd
---
:toc:

== src / stages / 0 / gimmicks / falling_ice_block / falling_ice_block.gd

=== Attached Scenes
* link:/scenes/src/stages/0/gimmicks/falling_ice_block/falling_ice_block.tscn[res://src/stages/0/gimmicks/falling_ice_block/falling_ice_block.tscn]



=== Code
```gdscript
extends RigidBody2D

@onready var initial_position : Vector2


func _ready() -> void:
	initial_position = position
	freeze = true
	%FailureCollisionShape2D.disabled = true


func _process(_delta: float) -> void:
	if not Player.playable: freeze = true


func reset() -> void:
	position = initial_position
	freeze = true
	%FailureCollisionShape2D.disabled = true


func fall() -> void:
	await get_tree().create_timer(0.5).timeout
	freeze = false
	%FailureCollisionShape2D.disabled = false


func _on_detection_area_2d_body_entered(_body: Node2D) -> void:
	fall.call_deferred()

```
